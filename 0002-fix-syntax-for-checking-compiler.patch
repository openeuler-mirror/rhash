--- a/configure	2021-07-15 04:55:34.000000000 +0800
+++ b/configure	2023-05-28 09:28:41.300747000 +0800
@@ -515,9 +515,9 @@
   for CC in "$CC_TMP" $OTHER_CC; do
     cc_name_tmp=
     if run_cmd "$CC -v"; then
-      cc_name_tmp=$($CC -v 2>&1 | tail -n 1 | cut -d ' ' -f 1)
+      cc_name_tmp=$($CC -v 2>&1 | grep version | cut -d ' ' -f 1)
     elif run_cmd "$CC --version"; then
-      cc_name_tmp=$($CC --version 2>&1 | head -n 1 | cut -d ' ' -f 1)
+      cc_name_tmp=$($CC --version 2>&1 | grep version | cut -d ' ' -f 1)
     fi
     if test -n "${cc_name_tmp}"; then
       if echo "$cc_name_tmp" | grep -q "gcc"; then
